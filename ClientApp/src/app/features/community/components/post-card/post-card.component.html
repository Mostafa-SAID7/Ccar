<div class="bg-[var(--color-surface)] rounded-xl shadow-md border border-[var(--color-border)] p-4 mb-4">
    <!-- Post Header -->
    <div class="flex items-center mb-4">
        <div
            class="h-10 w-10 rounded-full bg-[var(--color-primary)] flex items-center justify-center text-white font-bold mr-3">
            {{ post.authorName.charAt(0) }}
        </div>
        <div>
            <h3 class="font-semibold text-[var(--color-text)]">{{ post.authorName }}</h3>
            <p class="text-xs text-[var(--color-text-secondary)]">{{ post.createdAt | date:'short' }}</p>
        </div>
    </div>

    <!-- Post Content -->
    <div class="mb-4">
        <p class="text-[var(--color-text)] mb-2">{{ post.content }}</p>
        @if (post.imageUrl) {
            <img [src]="post.imageUrl" [alt]="post.content" class="w-full rounded-lg">
        }
    </div>

    <!-- Post Actions -->
    <div class="flex items-center gap-4 mb-4 text-sm text-[var(--color-text-secondary)]">
        <button (click)="onLike()" class="flex items-center gap-1 hover:text-[var(--color-primary)]">
            <span>üëç</span>
            <span>{{ post.likesCount }}</span>
        </button>
        <button class="flex items-center gap-1 hover:text-[var(--color-primary)]">
            <span>üí¨</span>
            <span>{{ post.commentsCount }}</span>
        </button>
    </div>

    <!-- Comments Section -->
    @if (post.recentComments && post.recentComments.length > 0) {
        <div class="border-t border-[var(--color-border)] pt-4 mb-4">
            @for (comment of post.recentComments; track comment.id) {
                <div class="mb-3">
                    <div class="flex items-center gap-2 mb-1">
                        <span class="font-semibold text-sm text-[var(--color-text)]">{{ comment.authorName }}</span>
                        <span class="text-xs text-[var(--color-text-secondary)]">{{ comment.createdAt | date:'short' }}</span>
                    </div>
                    <p class="text-sm text-[var(--color-text-secondary)]">{{ comment.content }}</p>
                </div>
            }
        </div>
    }

    <!-- Comment Input -->
    <div class="flex gap-2 mt-3">
        <input #commentInput type="text" placeholder="Write a comment..."
            class="flex-1 bg-[var(--color-background)] border border-[var(--color-border)] rounded-lg px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-[var(--color-primary)] text-[var(--color-text)]"
            (keyup.enter)="onComment(commentInput.value); commentInput.value = ''">
        <button (click)="onComment(commentInput.value); commentInput.value = ''"
            class="bg-[var(--color-primary)] text-white px-3 py-2 rounded-lg text-sm font-medium hover:bg-[var(--color-primary-dark)] transition-colors">
            Post
        </button>
    </div>
</div>